# Ball-Balance-bot
> 실시간 영상 인식과 PID를 이용한 볼 밸런싱 제어

> 해당 프로젝트는 2023년 하반기 서울고 STEAM 학술에 선보일려고 계획했던 작품입니다.  
> 프론트엔드 팀이 광탈을 해버려 수습하느라 PID 제어 관련 코드가 미완성 상태로 끝났습니다.

> 2025년에 오랜만에 코드 리뷰해보니까 코드가 좀 어지럽더라고요.  
> 스파게티 수준은 아니지만, 코드 재사용시 고쳐야될 부분이 조금 있습니다.  
> 만약 해당 코드를 재사용하게 된다면, `v1` 브랜치로 분기 후에 `main`에 작업해주세요.

> 해당 레포지토리는 소켓 통신을 위한 클라이언트 코드만을 포함하고 있습니다.  
> 서버 코드는 따로 작성이 된 것이 있으나, 맘에 안들어서 아카이브 안 해뒀습니다.

## 프로젝트 구조
- `config/`
  - `config.py` : config.toml 로드를 위한 파일입니다.
- `core/`
  - `__init__.py`: 최종적인 로봇 제어와 소켓통신을 위한 클래스들이 구현되어 있습니다.
  - `contol.py` : PID 제어를 위한 클래스가 구현되어 있습니다.
  - `finder.py` : 사진에서 공의 위치를 찾아내는 클래스가 구현되어 있습니다.
  - `mode.py` : 공의 목표 좌표를 변경하는 클래스가 구현되어 있습니다.
  - `plate.py` : 원판의 서보들을 조종할 수 있는 클래스가 구현되어 있습니다.
- `model/`
  - `__init__.py`
  - `cycledlist.py` : 순환 리스트와 그 Iterator가 구현되어 있습니다.
  - `movement.py` : 공의 패턴화된 움직임을 위해 좌표들이 저장된 클래스가 구현되어 있습니다.
  - `status.py` : 현재 로봇의 상태를 저장하는 구조체 입니다. 소켓 통신으로 보내느 데이터입니다.
  - `vector.py` : 2차원 벡터 클래스가 정의되어 있습니다.
- `main.py` : 실행파일 입니다.

## 목표
- 로봇 제어
  - 서보 2개를 이용해 원판을 조종
  - 원판을 촬영하는 카메라를 이용해 실시간으로 공의 위치를 계산
  - 해당 데이터들을 바탕으로 PID 제어를 수행
- 소켓 통신
  - 현재 로봇의 상태를 서버로 실시간으로 전송
